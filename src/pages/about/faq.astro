---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HeaderSmall from "../../components/HeaderSmall.astro";
import ProgramSwiper from "../../components/ProgramSwiper.astro";
import CTAColor from "../../components/CTAColor.astro";
import programsSwiper from "../../data/flight-training/programSwiper.js";
import faqPage from "../../data/pages/faq.js";
import flyWithUsCTA from "../../data/fly-with-us-cta";
import EnhancedFAQs from "../../components/EnhancedFAQs";
import EnhancedFAQSchema from "../../components/EnhancedFAQSchema.astro";
import MapsLocation from "../../components/MapsLocation.astro";
import CTAVideoWhite from "../../components/CTAVideoWhite.astro";
import { GeneralFAQs } from "../../data/general-faqs";
import {
  NewStudentFAQs,
  CurrentStudentFAQs,
  CareerTrackFAQs,
  RecreationalPilotFAQs,
} from "../../data/targeted-faqs";
import CTAVideo from "../../components/CTAVideo.astro";
import videoList from "../../data/videos.js";
import { getCurrentVideo } from "../../scripts/videoSpinner.js";
const { data } = faqPage;

const currentVideo = getCurrentVideo(videoList, "discovery flight");
const videoHome = videoList[0]; // Use the first video for now

const dataForVideo = {
  headerH1: `<span class="text-primary-600 uppercase text-lg lg:text-2xl lg:max-w-3xl font-sans text-center font-bold tracking-tight">Fly with the team</br></span>Where Excellence Takes Flight`,
  paragraph:
    "If you’ve ever dreamed of flying, there’s no better time to begin. FlyTech Pilot Academy is your launchpad, where you’ll train in modern aircraft, work one-on-one with expert instructors, and earn your pilot certificate and ratings.",
};
---

<BaseLayout
  siteTitle={data.pageTitle}
  siteDescription={data.pageDescription}
  keywords={data.pageKeywords}
>
  <!-- HEADER -->
  <HeaderSmall content={data.header} />
  <CTAVideo video={videoHome} data={dataForVideo} />
  <EnhancedFAQs
    generalFaqs={GeneralFAQs}
    newStudentFaqs={NewStudentFAQs}
    currentStudentFaqs={CurrentStudentFAQs}
    careerTrackFaqs={CareerTrackFAQs}
    recreationalPilotFaqs={RecreationalPilotFAQs}
    type="General"
    client:visible
  />
  <ProgramSwiper content={programsSwiper} />
  <EnhancedFAQSchema
    categories={[
      { name: "General", faqs: GeneralFAQs },
      { name: "New Students", faqs: NewStudentFAQs },
      { name: "Current Students", faqs: CurrentStudentFAQs },
      { name: "Career Track", faqs: CareerTrackFAQs },
      { name: "Recreational Pilots", faqs: RecreationalPilotFAQs },
    ]}
  />
  <!-- <CTAVideoWhite video={currentVideo} data={flyWithUsCTA} /> -->
  <MapsLocation />
  <CTAColor content={data.flyWithUsCTA} />
  <script src="../../scripts/creativeSwiper.js"></script>
</BaseLayout>
