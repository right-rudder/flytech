---
import {
  COMPANY_NICKNAME,
  LOCATIONS,
  PHONE_NUMBER,
  EMAIL_ADDRESS,
} from "../../consts";
import FormDiscoveryFlight from "../../components/Forms/FormDiscoveryFlight.astro";
import ImageComp2 from "../../components/ImageComp2.astro";
import imgForm from "../../assets/plane-wing-at-cloudy-sunset.webp";

const upperheading = "Discovery Flight";
const title = `Book a Flight with <span class="text-primary-500">${COMPANY_NICKNAME}</span>`;
const description = "The best way to start your journey in the skies";
---

<section
  class="relative text-white scroll-my-20 lg:scroll-my-28 py-20"
  id="enroll"
>
  <!-- Background Image -->
  <div class="fixed aspect-video inset-0 top-24 -z-50 pointer-events-none">
    <ImageComp2
      imagePath={imgForm}
      imageAlt="Background Image"
      styles="w-full h-full object-cover"
    />
    <div class="absolute inset-0 bg-black/70 mix-blend-multiply"></div>
  </div>
  <div class="relative z-10 max-w-7xl mx-auto">
    <div class="flex flex-col-reverse gap-10 lg:gap-0 lg:flex-row">
      <!-- Text Section -->
      <div class="w-full lg:w-1/2">
        <div class="w-full flex flex-col">
          <!-- New Text -->
          <div class="w-full py-2">
            <p
              class="text-lg font-bold text-primary-500 uppercase tracking-wide mb-4 text-center lg:text-right"
            >
              {upperheading}
            </p>
            <h2
              class="text-3xl lg:text-5xl font-bold text-white mb-4 text-center lg:text-right"
            >
              <Fragment set:html={title} />
            </h2>
            <p class="text-lg text-muted-200 mb-6 text-center lg:text-right">
              {description}
            </p>
          </div>
          <!-- Old text -->
          <!-- <h2
            class="text-right text-2xl font-semibold tracking-tighter uppercase pb-5 text-primary-500"
          >
            Enroll Now
          </h2>
        </div>
        <div class="flex flex-col items-end">
          <h3 class="text-3xl font-semibold text-right">
            Reach Out to <span class="text-primary-500">{COMPANY_NICKNAME}</span
            >
          </h3>
          <h4 class="text-2xl tracking-wider pb-5 text-right">
            Let's Get You In The Air
          </h4>
          <div class="bg-primary-500 w-72 h-1 mb-16"></div> -->

          <!--NAP-->
          <div
            class="flex flex-col flex-wrap gap-5 max-w-2xl pb-10 px-5 font-medium"
          >
            {
              LOCATIONS.map((location) => (
                <div class="flex flex-col gap-5 ">
                  <div class="flex flex-row items-center gap-12 text-right justify-end hover:text-primary-500">
                    <a
                      href={location.gMaps}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="ml-5 p-text"
                    >
                      <>
                        <span set:html={location.title} />
                        <br />
                      </>
                      {location.address}
                      <br />
                      {location.city}, {location.state}
                      {location.zip}
                    </a>
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"
                        />
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
                        />
                      </svg>
                    </div>
                  </div>

                  <div class="flex flex-row justify-end gap-12 hover:text-primary-500">
                    <div class="ml-5 p-text text-right">
                      <>
                        <a href={`tel:${PHONE_NUMBER}`}>{PHONE_NUMBER}</a>
                        <br />
                      </>
                    </div>
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
              ))
            }

            <div
              class="flex flex-row justify-end gap-12 hover:text-primary-500"
            >
              <div class="ml-5 p-text">
                <!-- <a href={`mailto:${EMAIL_ADDRESS}`}>{EMAIL_ADDRESS}</a> -->
                <a href="/contact-us">Contact Us</a>
              </div>
              <div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"
                  ></path>
                </svg>
              </div>
            </div>

            <div
              class="flex flex-row justify-end items-center gap-12 text-right"
            >
              <div class="ml-5 p-text">
                7:00 AM to 7:00 PM<br />
                All other times by appointment
              </div>
              <div class="fill-current">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24"
                  viewBox="0 -960 960 960"
                  width="24"
                  ><path
                    d="m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"
                  ></path></svg
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Form Section -->
      <div class="w-full lg:w-1/2">
        <div class="mx-auto px-10">
          <FormDiscoveryFlight />
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

  const contactUs = document.getElementById("contactUs");

  if (isSafari && contactUs) {
    contactUs.classList.remove("bg-fixed");
  }
</script>
